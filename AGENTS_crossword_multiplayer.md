# Telegram Bot ¬´–ö—Ä–æ—Å—Å–≤–æ—Ä–¥—ã¬ª ‚Äî –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä (–ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º)

–°–¥–µ–ª–∞—Ç—å Telegram‚Äë–±–æ—Ç–∞ —Å –≤–µ–±—Ö—É–∫–æ–º (**FastAPI**) –¥–ª—è –∏–≥—Ä—ã –≤ –∫—Ä–æ—Å—Å–≤–æ—Ä–¥—ã. –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∂–∏–º —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –¥–ª—è 2+ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å—é —Ö–æ–¥–æ–≤ (–ø–æ—à–∞–≥–æ–≤–∞—è –∏–≥—Ä–∞) –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ deep‚Äëlink.

---

## üéØ –¶–µ–ª–∏

–ë–æ—Ç:
- –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–¥–∏–Ω–æ—á–Ω—É—é –∏–≥—Ä—É (DM) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π. 
- –¥–æ–±–∞–≤–ª—è–µ—Ç **–º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä ¬´–ü–æ—à–∞–≥–æ–≤–∞—è –∏–≥—Ä–∞¬ª** –¥–ª—è 2‚Äì6 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: –æ–±—â–∞—è –¥–æ—Å–∫–∞, —Ö–æ–¥—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏, –æ—á–∫–∏ –∑–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤—Ä–µ–º–µ–Ω–∏, –∏—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞. 
- –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**: ¬´–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤¬ª –∏ ¬´–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É¬ª (deep‚Äëlink, join‚Äë–∫–æ–¥). 
- —É–º–µ–µ—Ç –≤–µ—Å—Ç–∏ –∏–≥—Ä—É –≤ **–æ–±—â–µ–º –≥—Ä—É–ø–ø–æ–≤–æ–º —á–∞—Ç–µ** (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π), –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–∏—á–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞–º (DM) –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. 
- —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç PNG —Å–µ—Ç–∫–∏. 

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### FastAPI
- –ú–∞—Ä—à—Ä—É—Ç—ã: `/webhook` (POST), —Å–ª—É–∂–µ–±–Ω—ã–µ `/healthz`, `/set_webhook`, `/reset_webhook`. 

### python‚Äëtelegram‚Äëbot v20
- `Application` —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ FastAPI; –∞–ø–¥–µ–π—Ç—ã –ø–æ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `application.process_update(update)`. 
- Job Queue –¥–ª—è —Ç–∞–π–º–µ—Ä–æ–≤ —Ä–∞—É–Ω–¥–æ–≤/–ø–æ–¥—Å–∫–∞–∑–æ–∫. 
- –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–µ–±—Ö—É–∫–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å `allowed_updates=[]`; –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏ –ø–µ—Ä–µ‚Äë—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–µ–±—Ö—É–∫; –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π health‚Äëcheck. 

### –•—Ä–∞–Ω–∏–ª–∏—â–µ
- Render Persistent Disk, JSON‚Äë—Ñ–∞–π–ª—ã:
  - `puzzles/{puzzle_id}.json` ‚Äî –∫—Ä–æ—Å—Å–≤–æ—Ä–¥—ã; 
  - `states/{game_id}.json` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã (—Å–º. —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∏–∂–µ). 

### Hub‚Äëand‚ÄëSpoke –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞
- **–•–∞–±** ‚Äî –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç ¬´–∫–æ–º–Ω–∞—Ç—ã¬ª –∏–≥—Ä—ã: –±–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç —Å–µ—Ç–∫—É, –ø–æ–¥—Å–∫–∞–∑–∫–∏, —á–µ–π —Ö–æ–¥, –æ—á–∫–∏, —Ç–∞–π–º–µ—Ä. 
- **–°–ø–∏—Ü—ã** ‚Äî –ª–∏—á–Ω—ã–µ —á–∞—Ç—ã –∏–≥—Ä–æ–∫–æ–≤: –±–æ—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤—Ä–µ–º–µ–Ω–∏, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏). –ú–µ—Ö–∞–Ω–∏–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –∏ —Ñ–∏–∫—Å–∞—Ü–∏—è player‚Äëchat ID –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥—Ä—É–≥–æ–≥–æ –±–æ—Ç–∞. 
- –ö–µ—à `player_chats[user_id]` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥—è—â–∏—Ö –∞–ø–¥–µ–π—Ç–∞—Ö, —á—Ç–æ–±—ã –±–æ—Ç –∑–Ω–∞–ª, –∫—É–¥–∞ —Å–ª–∞—Ç—å DM. –ü—Ä–∏ –ø–æ—Ç–µ—Ä–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏—Å–∫–∞—Ç—å –∏–≥—Ä—É –ø–æ `player_chats[user_id]`. 
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å `thread_id` (None ‚Üî 0). 

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

### Puzzle
–ü–æ–ª—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π: `id`, `theme`, `language`, `size_rows`, `size_cols`, `grid`, `slots`, `created_at`. 

### GameState (–Ω–∞ –∏–≥—Ä—É/—á–∞—Ç)
- `game_id` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–º–Ω–∞—Ç—ã (group_chat_id –∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UUID –¥–ª—è DM‚Äë–∫–æ–º–Ω–∞—Ç—ã)
- `host_id`
- `puzzle_id`
- `mode` (single | turn_based)
- `status` (lobby | running | finished)
- `players: {user_id: Player}`
- `turn_order: [user_id,‚Ä¶]`, `turn_index`
- `filled_cells`, `solved_slots`, `scoreboard: {user_id: int}`
- `hints_used: {slot_id: user_id ‚Üí n}`
- `timer_job_id`, `warn_job_id`
- `join_codes: {code: game_id}` ‚Äî –¥–ª—è deep‚Äëlink. 
- `created_at`, `last_update`

### Player
- `user_id`, `name`, `dm_chat_id`, `joined_at`, `answers_ok`, `answers_fail`

---

## üß≠ –ü–æ—Ç–æ–∫ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞ (–ø–æ—à–∞–≥–æ–≤—ã–π)

1) **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã**
- –í –≥—Ä—É–ø–ø–µ: —Ö–æ—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/new` ‚Üí –±–æ—Ç –∑–∞–¥–∞—ë—Ç —è–∑—ã–∫ –∏ —Ç–µ–º—É (–∫–Ω–æ–ø–∫–∏), –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä–æ—Å—Å–≤–æ—Ä–¥ –∏ –ø—É–±–ª–∏–∫—É–µ—Ç PNG —Å–µ—Ç–∫–∏ + —Å–ø–∏—Å–æ–∫ –ø–æ–¥—Å–∫–∞–∑–æ–∫ Across/Down. 
- –°—Ç–∞—Ç—É—Å: `lobby`. –ö–Ω–æ–ø–∫–∏: **¬´–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤¬ª**, **¬´–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É¬ª**, **¬´–°—Ç–∞—Ä—Ç¬ª**. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ –±–æ—Ç–∞ (–∫–æ–Ω—Ç–∞–∫—Ç—ã + deep‚Äëlink `t.me/<bot>?start=join_<code>`). 

2) **–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤**
- –ü–æ deep‚Äëlink –±–æ—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ DM –∏ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–º—è (ForceReply). –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ `players` –∏ —Å–æ–æ–±—â–∞–µ—Ç –≤ –≥—Ä—É–ø–ø—É ¬´–ò–≥–æ—Ä—å –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è¬ª. –ï—Å–ª–∏ –∏–º—è —É–∂–µ –±—ã–ª–æ, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Å—Ä–∞–∑—É. 
- –ò–≥—Ä–æ–∫–∏ ‚â•2 ‚Üí –∫–Ω–æ–ø–∫–∞ **¬´–°—Ç–∞—Ä—Ç¬ª** —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ–π —É —Ö–æ—Å—Ç–∞.

3) **–°—Ç–∞—Ä—Ç –∏–≥—Ä—ã**
- –ë–æ—Ç –æ–±—ä—è–≤–ª—è–µ—Ç —Ä–µ–∂–∏–º: **–ø–æ—à–∞–≥–æ–≤–æ**. –°–æ–∑–¥–∞—ë—Ç `turn_order` (—Å–ª—É—á–∞–π–Ω–æ –∏–ª–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É –≤—Ö–æ–¥–∞). –í—ã—Å—Ç–∞–≤–ª—è–µ—Ç **—Ö–æ–¥ –∏–≥—Ä–æ–∫–∞ ‚Ññ1** –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –≤ –≥—Ä—É–ø–ø–µ: ¬´–•–æ–¥ @username ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ —è—á–µ–π–∫—É¬ª.
- –¢–∞–π–º–µ—Ä –∏–≥—Ä—ã –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–Ω–∞–ø—Ä., 10 –º–∏–Ω—É—Ç) —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º **–∑–∞ 1 –º–∏–Ω—É—Ç—É** (job queue). –õ–∏–º–∏—Ç –Ω–∞ —Ö–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 30 —Å–µ–∫) ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∞–π–º–µ—Ä; –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ ‚Äî `–ø—Ä–æ–ø—É—Å–∫ —Ö–æ–¥–∞`. 

4) **–í—ã–±–æ—Ä –ø–æ–¥—Å–∫–∞–∑–∫–∏/—è—á–µ–π–∫–∏**
- –¢–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ –∂–º—ë—Ç –∫–Ω–æ–ø–∫—É ¬´–í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É¬ª ‚Üí –±–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ (A1, D3, ‚Ä¶) —Å –∫—Ä–∞—Ç–∫–∏–º–∏ –∫–ª—é—è–º–∏. 
- –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –±–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –≤ –≥—Ä—É–ø–ø—É: ¬´@username –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ **A1**: *–∫–ª—é–π‚Ä¶*¬ª –∏ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π `/answer A1 <—Å–ª–æ–≤–æ>` –∏–ª–∏ –±—ã—Å—Ç—Ä—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –≤–≤–æ–¥–∞.

5) **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞**
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è: —Ä–µ–≥–∏—Å—Ç—Ä, –µ/—ë, –ø—Ä–æ–±–µ–ª—ã. 
- –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –≤–µ—Ä–Ω—ã–π ‚Äî –∑–∞–ø–æ–ª–Ω—è–µ–º –∫–ª–µ—Ç–∫–∏, –æ–±–Ω–æ–≤–ª—è–µ–º PNG, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—á–∫–∏ –∏–≥—Ä–æ–∫–∞ (—Å–ª–æ–∂–Ω–æ—Å—Ç—å/–¥–ª–∏–Ω–∞ —Å–ª–æ—Ç–∞ –º–æ–≥—É—Ç –¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–π –≤–µ—Å), –æ–±—ä—è–≤–ª—è–µ–º ¬´–í–µ—Ä–Ω–æ!¬ª –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—É—é —Å–µ—Ç–∫—É. –ï—Å–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ ‚Äî ¬´–ù–µ–≤–µ—Ä–Ω–æ¬ª. 
- –ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Ç–≤–µ—Ç—ã –Ω–µ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞: –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –æ—Ç–≤–µ—á–∞—Ç—å ¬´–°–µ–π—á–∞—Å —Ö–æ–¥ @username¬ª. 

6) **–ü–µ—Ä–µ—Ö–æ–¥ —Ö–æ–¥–∞**
- –ü–æ—Å–ª–µ –≤–µ—Ä–Ω–æ–≥–æ/–Ω–µ–≤–µ—Ä–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç–∞ ‚Äî `turn_index = (turn_index+1) % len(players)`.
- –ë–æ—Ç –æ–±—ä—è–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞.

7) **–ü–æ–¥—Å–∫–∞–∑–∫–∏**
- –ö–æ–º–∞–Ω–¥–∞ `/hint A1` –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ **—Ç–µ–∫—É—â–µ–º—É** –∏–≥—Ä–æ–∫—É –∏ —Å—Ç–æ–∏—Ç N –æ—á–∫–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ): –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–¥–Ω—É –±—É–∫–≤—É –≤ —Å–ª–æ—Ç–µ. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –Ω–∞ –∏–≥—Ä–æ–∫–∞ –ª–∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å. 

8) **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ**
- –ò–≥—Ä–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏:
  - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤—Å–µ—Ö —Å–ª–æ—Ç–æ–≤; 
  - –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –æ–±—â–µ–≥–æ —Ç–∞–π–º–µ—Ä–∞; 
  - –∫–æ–º–∞–Ω–¥–µ —Ö–æ—Å—Ç–∞ `/finish`.
- –ë–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç **–ª–∏–¥–µ—Ä–±–æ—Ä–¥** (–æ—á–∫–∏, —Ä–µ—à—ë–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã) –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç: ¬´–†–µ–≤–∞–Ω—à —Å —Ç–µ–º–∏ –∂–µ¬ª / ¬´–ù–æ–≤–∞—è –∏–≥—Ä–∞¬ª. 

---

## üîò –ö–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏

**–û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã**
- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –ø–æ–º–æ—â—å.
- `/new` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É –≤ –≥—Ä—É–ø–ø–µ (–∏–ª–∏ –æ–¥–∏–Ω–æ—á–Ω—É—é –≤ DM). 
- `/join` ‚Äî –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –ø–æ –∫–æ–¥—É (fallback –∫ deep‚Äëlink). 
- `/state` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å–µ—Ç–∫—É PNG. 
- `/clues` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª—é–µ–≤. 
- `/answer A1 <—Å–ª–æ–≤–æ>` ‚Äî –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫). 
- `/hint A1` ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∞ –∑–∞ —à—Ç—Ä–∞—Ñ –æ—á–∫–æ–≤. 
- `/finish` ‚Äî –¥–æ—Å—Ä–æ—á–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å (—Ç–æ–ª—å–∫–æ —Ö–æ—Å—Ç).
- `/quit` ‚Äî –≤—ã–π—Ç–∏ –∏–≥—Ä–æ–∫—É (–¥—ã—Ä–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏). 

**–ö–Ω–æ–ø–∫–∏ –≤ –ª–æ–±–±–∏**
- ¬´–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∏–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤¬ª ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ TG. 
- ¬´–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É¬ª ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å deep‚Äëlink `join_<code>` –∏ –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫–æ–π –¥–ª—è –ø–µ—Ä–µ—Å—ã–ª–∫–∏. 
- ¬´–°—Ç–∞—Ä—Ç¬ª ‚Äî –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É (>=2 –∏–≥—Ä–æ–∫–æ–≤).

**–ö–Ω–æ–ø–∫–∏ –≤ –∏–≥—Ä–µ**
- ¬´–í—ã–±—Ä–∞—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É¬ª ‚Üí —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ (A1/D3‚Ä¶)
- ¬´–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥¬ª (1 —Ä–∞–∑ –∑–∞ –∏–≥—Ä—É, –æ–ø—Ü.)

---

## üõ° –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∞–ø–¥–µ–π—Ç–æ–≤

- `allowed_updates=[]`; health‚Äëcheck –∏ –∞–≤—Ç–æ‚Äë–ø–µ—Ä–µ‚Äë—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–µ–±—Ö—É–∫–∞ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ. 
- –ù–µ —É–¥–∞–ª—è—Ç—å –≤–µ–±—Ö—É–∫ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ (Render —Å–º–æ–∂–µ—Ç ¬´—Ä–∞–∑–±—É–¥–∏—Ç—å¬ª —Å–µ—Ä–≤–∏—Å –ø–æ –∞–ø–¥–µ–π—Ç—É). 
- –í–µ—Å—Ç–∏ DEBUG‚Äë–ª–æ–≥–∏ –∫–ª—é—á–µ–≤—ã—Ö —à–∞–≥–æ–≤: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ–≤/—Å–µ—Ç–æ–∫, —Ä–µ–Ω–¥–µ—Ä PNG, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤, –ø–µ—Ä–µ—Ö–æ–¥ —Ö–æ–¥–∞, —Ç–∞–π–º–µ—Ä—ã. 
- Fallback‚Äë–ø–æ–∏—Å–∫ –∏–≥—Ä—ã –ø–æ `player_chats[user_id]` –µ—Å–ª–∏ –∞–ø–¥–µ–π—Ç –ø—Ä–∏—à—ë–ª –∏–∑ DM. 

---

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ä–µ–Ω–¥–µ—Ä

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ–≤ –∏ –∫–ª—é–µ–≤ ‚Äî LangChain + OpenAI; –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É —è–∑—ã–∫–∞ –∏ –¥–ª–∏–Ω–µ; –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞, –µ/—ë, –ø—Ä–æ–±–µ–ª–æ–≤. 
- –°–µ—Ç–∫–∞ –¥–æ 15√ó15, backtracking —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª–æ–≤. –†–µ–Ω–¥–µ—Ä PNG —á–µ—Ä–µ–∑ Pillow; –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ PNG –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –≤–µ—Ä–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞. 

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ AGENTS.md
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îú‚îÄ‚îÄ puzzles/
‚îÇ   ‚îî‚îÄ‚îÄ states/
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ llm_generator.py
    ‚îú‚îÄ‚îÄ crossword.py
    ‚îú‚îÄ‚îÄ render.py
    ‚îú‚îÄ‚îÄ validators.py
```

---

## üìú requirements.txt

```
python-telegram-bot>=20.6
fastapi>=0.110
uvicorn[standard]>=0.30
langchain>=0.2
openai>=1.40
pillow>=10.0
orjson>=3.9
```

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ**
- `TELEGRAM_BOT_TOKEN`, `PUBLIC_URL`, `WEBHOOK_SECRET`, `OPENAI_API_KEY`  
**–°–ª—É–∂–µ–±–Ω—ã–µ**
- `WEBHOOK_PATH` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/webhook`)  
- `ADMIN_ID` (–æ–ø—Ü., –¥–∞—ë—Ç –º–µ–Ω—é —Ç–µ—Å—Ç–æ–≤–æ–π –∏–≥—Ä—ã) 

---

## ‚ñ∂Ô∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –¥–µ–ø–ª–æ–π

–õ–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ Render ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–¥–∏–Ω–æ—á–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π: –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `uvicorn`, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Render Disk. 

---

## üß™ –¢–µ—Å—Ç–æ–≤–∞—è –∞–¥–º–∏–Ω‚Äë–∏–≥—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä‚Äë–∫–æ–º–Ω–∞—Ç—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è ¬´–±–æ—Ç‚Äë—Å–ø–∞—Ä—Ä–∏–Ω–≥¬ª, –∏–º–∏—Ç–∏—Ä—É—é—â–∏–π –æ—Ç–≤–µ—Ç—ã —Ä–∞–∑ –≤ N —Å–µ–∫—É–Ω–¥; –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ `ADMIN_ID`. 

---

## üîí –ê–Ω—Ç–∏‚Äë—Å–ø–∞–º –∏ —á–µ—Å—Ç–Ω–∞—è –∏–≥—Ä–∞
- –û—Ç–≤–µ—Ç –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ—Ç **—Ç–µ–∫—É—â–µ–≥–æ** –∏–≥—Ä–æ–∫–∞; —Å–æ–æ–±—â–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ –ø–æ–º–µ—á–∞—é—Ç—Å—è –ø–æ–¥—Å–∫–∞–∑–∫–æ–π ¬´–°–µ–π—á–∞—Å —Ö–æ–¥ @username¬ª.
- –õ–∏–º–∏—Ç—ã: –∞–Ω—Ç–∏‚Äë—Ñ–ª—É–¥ –Ω–∞ –∫–æ–º–∞–Ω–¥—ã, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫, —Ç–∞–π–º–∞—É—Ç —Ö–æ–¥–∞.
- –í –≥—Ä—É–ø–ø–µ –±–æ—Ç –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –Ω–µ–∫–æ–º–∞–Ω–¥–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–Ω–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–ª–æ—Ç–∞.

---

## üìë –ü–æ—è—Å–Ω–µ–Ω–∏—è –ø–æ ID –∏–≥—Ä
- **game_id** = `group_chat_id` (–¥–ª—è –≥—Ä—É–ø–ø), –ª–∏–±–æ UUID (–¥–ª—è —á–∞—Å—Ç–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç). DM‚Äë–æ—Ç–≤–µ—Ç—ã —Å–æ–æ—Ç–Ω–æ—Å—è—Ç—Å—è —Å –∫–æ–º–Ω–∞—Ç–æ–π —á–µ—Ä–µ–∑ `player_chats[user_id]` –∏ `join_codes`. 

---

## ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º —Å –ø—Ä–µ–∂–Ω–µ–π –æ–¥–∏–Ω–æ—á–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π: —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ Puzzle –∏ GameState —Ä–∞—Å—à–∏—Ä–µ–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã.


---

## üß∞ –ê–¥–º–∏–Ω‚Äë—Ç–µ—Å—Ç (–¥–≤—É—Ö—É—á–∞—Å—Ç–Ω–∏–∫–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –æ—Ç–ª–∞–¥–∏—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–π —Ä–µ–∂–∏–º –Ω–∞ ¬´–∂–∏–≤–æ–π¬ª —Å–µ—Ç–∫–µ –±–µ–∑ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π. –í –∏–≥—Ä–µ —É—á–∞—Å—Ç–≤—É—é—Ç **—Ä–æ–≤–Ω–æ –¥–≤–∞ –∏–≥—Ä–æ–∫–∞**: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏ **–¥–∞–º–º–∏‚Äë–∏–≥—Ä–æ–∫** (—ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ—Ç–æ–º).

### –î–æ—Å—Ç—É–ø
- –í–∏–¥–∏–º–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É —Ä–µ–∂–∏–º—É –µ—Å—Ç—å **—Ç–æ–ª—å–∫–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `ADMIN_ID`**.
- –í –ª–æ–±–±–∏ –ø–æ—Å–ª–µ `/new` –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ **¬´[–∞–¥–º.] –¢–µ—Å—Ç–æ–≤–∞—è –∏–≥—Ä–∞ 1√ó1¬ª**.
- –ù–∞–∂–∞—Ç–∏–µ —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–æ–º–Ω–∞—Ç—É `game_id=admin:<group_chat_id or user_id>` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `running` –∏ —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É (—ç—Ç–∞–ø ¬´–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π¬ª –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è).

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ
- –£—á–∞—Å—Ç–Ω–∏–∫–∏: `players = { ADMIN_ID, DUMMY_USER_ID }`. –î–ª—è –¥–∞–º–º–∏‚Äë–∏–≥—Ä–æ–∫–∞ –≤ `Player` –≤—ã—Å—Ç–∞–≤–∏—Ç—å `is_bot=True`, `name="Dummy"`, `dm_chat_id=None`.
- –ü–æ—Ä—è–¥–æ–∫ —Ö–æ–¥–æ–≤: —Å–ª—É—á–∞–π–Ω—ã–π –∏–ª–∏ ¬´–∞–¥–º–∏–Ω –ø–µ—Ä–≤—ã–º¬ª ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `ADMIN_FIRST=True|False`.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –≤—Å–µ –ª–∏–º–∏—Ç—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∂–∏–≤–æ–π –∏–≥—Ä–µ ‚Äî —Ç–∞–π–º–µ—Ä —Ö–æ–¥–∞, —à—Ç—Ä–∞—Ñ –∑–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤.
- –î–∞–º–º–∏‚Äë–∏–≥—Ä–æ–∫ –∏–º–∏—Ç–∏—Ä—É–µ—Ç —á–µ–ª–æ–≤–µ–∫–∞:
  - **–¢–æ—á–Ω–æ—Å—Ç—å 80%**: –ø–∞—Ä–∞–º–µ—Ç—Ä `DUMMY_ACCURACY=0.8`. –ù–∞ –∫–∞–∂–¥–æ–º —Å–≤–æ—ë–º —Ö–æ–¥—É —Å–ª—É—á–∞–π –∏–∑ `[True]*8 + [False]*2`.
  - **–ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–∞**: `DUMMY_DELAY_RANGE=(5..8)` —Å–µ–∫—É–Ω–¥, —Å–ª—É—á–∞–π–Ω–æ. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ JobQueue —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ö–æ–¥–∞ –¥–∞–º–º–∏.
  - **–°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–±–æ—Ä–∞ —Å–ª–æ—Ç–∞**: 
    1) –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π *–Ω–µ —Ä–µ—à—ë–Ω–Ω—ã–π* —Å–ª–æ—Ç —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ—Ç–∫—Ä—ã—Ç—ã—Ö –±—É–∫–≤; 
    2) –µ—Å–ª–∏ –æ—à–∏–±–æ–∫ —Ä–∞–Ω–µ–µ –±—ã–ª–æ –º–Ω–æ–≥–æ ‚Äî –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å —Å–ª–æ–≤–∞ –ø–æ–∫–æ—Ä–æ—á–µ (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞);
    3) –ø—Ä–∏ `hit=True` –≤–∑—è—Ç—å **–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç** –∏–∑ `puzzle.slots[slot_id].answer` –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å `/answer {slot_id} <—Å–ª–æ–≤–æ>`; 
    4) –ø—Ä–∏ `hit=False` —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ¬´–ø—Å–µ–≤–¥–æ‚Äë–æ—à–∏–±–æ—á–Ω—ã–π¬ª –æ—Ç–≤–µ—Ç —Ç–æ–π –∂–µ –¥–ª–∏–Ω—ã (—Å–ª—É—á–∞–π–Ω—ã–µ –±—É–∫–≤—ã –∏–∑ –∞–ª—Ñ–∞–≤–∏—Ç–∞ —è–∑—ã–∫–∞) –∏–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å –æ–ø–µ—á–∞—Ç–∫—É ‚Äî —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
  - –ü—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ —Ö–æ–¥–∞ –¥–∞–º–º–∏ ‚Äî —Å—á–∏—Ç–∞–µ—Ç—Å—è ¬´–ø—Ä–æ–ø—É—Å–∫¬ª –∏ —Ö–æ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –∞–¥–º–∏–Ω—É.

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
–î–æ–±–∞–≤–∏—Ç—å –≤ `GameState` –∏ `Player`:
- `GameState.test_mode: bool` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞;
- `GameState.dummy_user_id: int | None` ‚Äî ID –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä `-1`);
- `Player.is_bot: bool` ‚Äî –¥–ª—è –¥–∞–º–º–∏‚Äë–∏–≥—Ä–æ–∫–∞ `True`;
- `Config`: `DUMMY_ACCURACY=0.8`, `DUMMY_DELAY_RANGE=(5,8)`, `ADMIN_FIRST=False`.

### –ñ—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ö–æ–¥ –¥–∞–º–º–∏: –≤—ã–±—Ä–∞–Ω–Ω—ã–π `slot_id`, ¬´hit/miss¬ª, –∑–∞–¥–µ—Ä–∂–∫–∞, –∏—Ç–æ–≥ (–≤–µ—Ä–Ω–æ/–Ω–µ–≤–µ—Ä–Ω–æ), –Ω–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ—á–∫–∏/—à—Ç—Ä–∞—Ñ.
- –í –∫–æ–Ω—Ü–µ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ –≤ –ª–æ–≥–∞—Ö —Å —Å—É–º–º–∞—Ä–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –¥–∞–º–º–∏ (–ø—Ä–æ—Ü–µ–Ω—Ç –≤–µ—Ä–Ω—ã—Ö, —Å—Ä–µ–¥–Ω—è—è –∑–∞–¥–µ—Ä–∂–∫–∞, –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å–ª–æ—Ç—ã).

### –ö–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞
- `/admin` ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Å–ª—É–∂–µ–±–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–æ–π **¬´[–∞–¥–º.] –¢–µ—Å—Ç–æ–≤–∞—è –∏–≥—Ä–∞ 1√ó1¬ª** (–¥–æ—Å—Ç—É–ø —Å—Ç—Ä–æ–≥–æ –ø–æ `ADMIN_ID`). 
- –ö–Ω–æ–ø–∫–∞ **¬´[–∞–¥–º.] –¢–µ—Å—Ç–æ–≤–∞—è –∏–≥—Ä–∞ 1√ó1¬ª** –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–∞–∫–∂–µ –≤ –ª–æ–±–±–∏ –ø–æ—Å–ª–µ `/new` —É –∞–¥–º–∏–Ω–∞.
- `/finish` –∏ `/state` —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –≤ –∂–∏–≤–æ–π –∏–≥—Ä–µ; –ø–æ–¥—Å–∫–∞–∑–∫–∏ –∏ —à—Ç—Ä–∞—Ñ—ã –≤–∫–ª—é—á–µ–Ω—ã.

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –¢–µ—Å—Ç–æ–≤–∞—è –≤–µ—Ç–∫–∞ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –æ–±—ã—á–Ω—ã–µ –∏–≥—Ä—ã. –í—Å—ë, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∂–∏–≤–æ–º —Ä–µ–∂–∏–º–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π, –∫—Ä–æ–º–µ `test_mode` –∏ –∞–≤—Ç–æ‚Äë–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞–º–º–∏‚Äë–∏–≥—Ä–æ–∫–∞.

